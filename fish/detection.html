<!DOCTYPE html>
<html>
<head>
</head>
<body>
  <canvas width="1200" height="600" id="canvasElement"></canvas>
  
  <script type="text/javascript">
  
    var ctx = canvasElement.getContext('2d');
    var x, y;
    var width = 1200;
    var height = 600

    function redraw() {
      ctx.clearRect(0,0,1200,800);
      
      var i = fishes.length;
      while (i--) {
        var fish = fishes[i];
        var image = fish.image;
        
        if ((fish.y + image.height) > 600 || fish.y < 0) {
          fish.vy = fish.vy * -1
        }
        
        if ((fish.x + image.width) > 1200 || fish.x < 0) {
          fish.vx = fish.vx * -1
        }
        
        fish.x += fish.vx;
        fish.y += fish.vy
        
        sh = image.height
        dh = image.height
        sy = 0;
        dy = fish.y;
        sx = 0
        dx = fish.x
        sw = image.width
        dw = image.width
        ctx.drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh)
      }
    }
    
    setInterval(redraw, 16.66)
    
    var greenFish = new Image();
    greenFish.src = "images/green.png";
    
    var blueFish = new Image();
    blueFish.src = "images/blue.png";
    
    var yellowFish = new Image();
    yellowFish.src = "images/yellow.png";
    
    var fishes = [{
      image: greenFish,
      x: 100,
      y: 0,
      vx: 1.2,
      vy: 1
    },{
      image: blueFish,
      x: 0,
      y: 320,
      vx: 1,
      vy: 0.8
    },{
      image: yellowFish,
      x: 170,
      y: 20,
      vx: 1,
      vy: 1.6
    }];

    function setMouse() {
      x = window.event.offsetX;
      y = window.event.offsetY; 
      redraw()
    }  
    canvasElement.onmousemove = setMouse
    
    function touchMove(event) {
      event.preventDefault();
      var touch = event.changedTouches[0];
      x = touch.pageX;  
      y = touch.pageY;
      redraw()
    }
    canvasElement.addEventListener("touchmove", touchMove, false);
    
    
  </script>
</body>
</html>